Started GET "/" for ::1 at 2021-12-02 17:54:14 +0800
Processing by Rails::WelcomeController#index as */*
  Rendering /Users/irippleuser/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.2.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/irippleuser/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.2.6/lib/rails/templates/rails/welcome/index.html.erb (9.4ms)
Completed 200 OK in 158ms (Views: 38.1ms | MongoDB: 0.0ms)


MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181714538040 type=uuid data=0xe57c731620bf4784...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.009s
MONGODB | localhost:27017 req:217 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:217 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:218 conn:1:1 sconn:15 | booker_development.insert | STARTED | {"insert"=>"guests", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7'), "email"=>"markusmanas@gmail.com"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb......
MONGODB | localhost:27017 req:218 | booker_development.insert | SUCCEEDED | 0.126s
MONGODB | localhost:27017 req:233 conn:1:1 sconn:15 | booker_development.insert | STARTED | {"insert"=>"guests", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7'), "email"=>"markusmanas@gmail.com"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb......
MONGODB | localhost:27017 req:233 | booker_development.insert | SUCCEEDED | 0.035s
MONGODB | localhost:27017 req:236 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:236 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:252 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:252 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:358 conn:1:1 sconn:15 | booker_development.update | STARTED | {"update"=>"guests", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "u"=>{"$set"=>{"age"=>15}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>...
MONGODB | localhost:27017 req:358 | booker_development.update | SUCCEEDED | 0.029s
MONGODB | localhost:27017 req:369 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:369 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:386 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>"61a8a8fd772ecf5317d764e7asd"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:386 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:427 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:427 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:428 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:428 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:430 conn:1:1 sconn:15 | booker_development.count | STARTED | {"count"=>"guests", "query"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:430 | booker_development.count | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:431 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:431 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:432 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"guest_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:432 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:468 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:468 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:469 conn:1:1 sconn:15 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"guest_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747338020 type=uuid data=0x266b499db7d945fb...>}}
MONGODB | localhost:27017 req:469 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:18 | booker_development.createIndexes | STARTED | {"createIndexes"=>"guests", "indexes"=>[{"key"=>{"email"=>1}, "unique"=>true, "name"=>"email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70129943755600 type=uuid data=0xd8ad862a1c1846d1...>}}
MONGODB | localhost:27017 req:6 | booker_development.createIndexes | SUCCEEDED | 0.213s
MONGOID: Created indexes on Guest:
MONGOID: Index: {:email=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:7 conn:1:1 sconn:18 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"reservation_code"=>1}, "unique"=>true, "name"=>"reservation_code_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70129943755600 type=uuid data=0xd8ad862a1c1846d1...>}}
MONGODB | localhost:27017 req:7 | booker_development.createIndexes | SUCCEEDED | 0.092s
MONGOID: Created indexes on Reservation:
MONGOID: Index: {:reservation_code=>1}, Options: {:unique=>true}
Started GET "/" for ::1 at 2021-12-02 20:11:43 +0800
Processing by Rails::WelcomeController#index as */*
  Rendering /Users/irippleuser/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.2.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/irippleuser/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.2.6/lib/rails/templates/rails/welcome/index.html.erb (5.4ms)
Completed 200 OK in 22ms (Views: 13.8ms | MongoDB: 0.0ms)


Started POST "/reservations/" for ::1 at 2021-12-02 20:14:12 +0800
  
ActionController::RoutingError (No route matches [POST] "/reservations"):
  
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:14:42 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (MongoDB: 0.0ms)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (5.2.6) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (5.2.6) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (5.2.6) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (5.2.6) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (5.2.6) lib/active_support/callbacks.rb:198:in `block (2 levels) in halting'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (5.2.6) lib/active_support/callbacks.rb:199:in `block in halting'
activesupport (5.2.6) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (5.2.6) lib/active_support/callbacks.rb:513:in `each'
activesupport (5.2.6) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (5.2.6) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
mongoid (6.4.8) lib/mongoid/railties/controller_runtime.rb:19:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:14:59 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (MongoDB: 0.0ms)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (5.2.6) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (5.2.6) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (5.2.6) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (5.2.6) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (5.2.6) lib/active_support/callbacks.rb:198:in `block (2 levels) in halting'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (5.2.6) lib/active_support/callbacks.rb:199:in `block in halting'
activesupport (5.2.6) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (5.2.6) lib/active_support/callbacks.rb:513:in `each'
activesupport (5.2.6) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (5.2.6) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.2.6) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.6) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.6) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.6) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.6) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
mongoid (6.4.8) lib/mongoid/railties/controller_runtime.rb:19:in `process_action'
actionpack (5.2.6) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.6) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.6) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.6) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.6) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.6) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (5.2.6) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/cookies.rb:670:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:24:12 +0800
  
ArgumentError (Before process_action callback :verify_authenticity_token has not been defined):
  
app/controllers/api_controller.rb:2:in `<class:ApiController>'
app/controllers/api_controller.rb:1:in `<main>'
app/controllers/api/reservations_controller.rb:1:in `<main>'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:24:32 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:21 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70177559122060 type=uuid data=0xfecabb78b81b4c9d...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.010s
Completed 500 Internal Server Error in 63ms (MongoDB: 0.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/api/reservations_controller.rb:42:in `parse_payload'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:25:23 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:12 conn:1:1 sconn:21 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70177559122060 type=uuid data=0xfecabb78b81b4c9d...>}}
MONGODB | localhost:27017 req:12 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 5ms (MongoDB: 0.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/api/reservations_controller.rb:42:in `parse_payload'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:25:59 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:16 conn:1:1 sconn:21 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70177559122060 type=uuid data=0xfecabb78b81b4c9d...>}}
MONGODB | localhost:27017 req:16 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 6ms (MongoDB: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/api/reservations_controller.rb:9:in `new'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:28:23 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:32 conn:1:1 sconn:21 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70177559122060 type=uuid data=0xfecabb78b81b4c9d...>}}
MONGODB | localhost:27017 req:32 | booker_development.find | SUCCEEDED | 0.002s
Completed 500 Internal Server Error in 16ms (MongoDB: 0.0ms)


  
Mongoid::Errors::UnknownAttribute (
message:
  Attempted to set a value for 'controller' which is not allowed on the model Reservation.
summary:
  Without including Mongoid::Attributes::Dynamic in your model and the attribute does not already exist in the attributes hash, attempting to call Reservation#controller= for it is not allowed. This is also triggered by passing the attribute to any method that accepts an attributes hash, and is raised instead of getting a NoMethodError.
resolution:
  You can include Mongoid::Attributes::Dynamic if you expect to be writing values for undefined fields often.):
  
app/controllers/api/reservations_controller.rb:9:in `new'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:32:38 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:58 conn:1:1 sconn:21 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70177559122060 type=uuid data=0xfecabb78b81b4c9d...>}}
MONGODB | localhost:27017 req:58 | booker_development.find | SUCCEEDED | 0.005s
Completed 500 Internal Server Error in 12ms (MongoDB: 0.0ms)


  
Mongoid::Errors::UnknownAttribute (
message:
  Attempted to set a value for 'controller' which is not allowed on the model Reservation.
summary:
  Without including Mongoid::Attributes::Dynamic in your model and the attribute does not already exist in the attributes hash, attempting to call Reservation#controller= for it is not allowed. This is also triggered by passing the attribute to any method that accepts an attributes hash, and is raised instead of getting a NoMethodError.
resolution:
  You can include Mongoid::Attributes::Dynamic if you expect to be writing values for undefined fields often.):
  
app/controllers/api/reservations_controller.rb:9:in `new'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:35:32 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.002s
Completed 500 Internal Server Error in 65ms (MongoDB: 0.0ms)


  
Mongoid::Errors::UnknownAttribute (
message:
  Attempted to set a value for 'controller' which is not allowed on the model Reservation.
summary:
  Without including Mongoid::Attributes::Dynamic in your model and the attribute does not already exist in the attributes hash, attempting to call Reservation#controller= for it is not allowed. This is also triggered by passing the attribute to any method that accepts an attributes hash, and is raised instead of getting a NoMethodError.
resolution:
  You can include Mongoid::Attributes::Dynamic if you expect to be writing values for undefined fields often.):
  
app/controllers/api/reservations_controller.rb:9:in `new'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:44:38 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:61 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:61 | booker_development.find | SUCCEEDED | 0.002s
No template found for Api::ReservationsController#create, rendering head :no_content
Completed 204 No Content in 109ms (MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 20:46:18 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:72 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:72 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:73 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>"markusmanas@gmail.com"}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:73 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:74 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:74 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 28ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 20:47:14 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:81 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:81 | booker_development.find | SUCCEEDED | 0.014s
MONGODB | localhost:27017 req:82 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>"markusmanas@gmail.com"}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:82 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:83 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:83 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 25ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 20:49:38 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:98 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:98 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:99 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>"markusmanas@gmail.com"}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:99 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:100 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:100 | booker_development.find | SUCCEEDED | 0.005s
Completed 400 Bad Request in 24ms (Views: 0.2ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:847 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747441280 type=uuid data=0xd668774e043f4877...>}}
MONGODB | localhost:27017 req:847 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:849 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747441280 type=uuid data=0xd668774e043f4877...>}}
MONGODB | localhost:27017 req:849 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:850 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747441280 type=uuid data=0xd668774e043f4877...>}}
MONGODB | localhost:27017 req:850 | booker_development.find | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-02 20:58:46 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:156 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:156 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:157 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>"markusmanas@gmail.com"}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:157 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:158 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:158 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 36ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 21:00:11 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:167 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:167 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:168 conn:1:1 sconn:24 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70124109862280 type=uuid data=0xa073c50082174361...>}}
MONGODB | localhost:27017 req:168 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 13ms (Views: 0.2ms | MongoDB: 0.0ms)


MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:27 | booker_development.listIndexes | STARTED | {"listIndexes"=>"guests", "cursor"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70178768151060 type=uuid data=0xf264891e89754c66...>}}
MONGODB | localhost:27017 req:6 | booker_development.listIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:27 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"guests", "index"=>{"email"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70178768151060 type=uuid data=0xf264891e89754c66...>}}
MONGODB | localhost:27017 req:7 | booker_development.dropIndexes | SUCCEEDED | 0.050s
MONGOID: Removed index 'email_1' on collection 'guests' in database 'booker_development'.
MONGODB | localhost:27017 req:8 conn:1:1 sconn:27 | booker_development.listIndexes | STARTED | {"listIndexes"=>"reservations", "cursor"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70178768151060 type=uuid data=0xf264891e89754c66...>}}
MONGODB | localhost:27017 req:8 | booker_development.listIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:9 conn:1:1 sconn:27 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"reservations", "index"=>{"reservation_code"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70178768151060 type=uuid data=0xf264891e89754c66...>}}
MONGODB | localhost:27017 req:9 | booker_development.dropIndexes | SUCCEEDED | 0.018s
MONGOID: Removed index 'reservation_code_1' on collection 'reservations' in database 'booker_development'.
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:30 | booker_development.createIndexes | STARTED | {"createIndexes"=>"guests", "indexes"=>[{"key"=>{"email"=>1}, "unique"=>true, "name"=>"email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70198503881760 type=uuid data=0xbc20e9abdd354ed9...>}}
MONGODB | localhost:27017 req:6 | booker_development.createIndexes | SUCCEEDED | 0.173s
MONGOID: Created indexes on Guest:
MONGOID: Index: {:email=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:7 conn:1:1 sconn:30 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"reservation_code"=>1}, "unique"=>true, "name"=>"reservation_code_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70198503881760 type=uuid data=0xbc20e9abdd354ed9...>}}
MONGODB | localhost:27017 req:7 | booker_development.createIndexes | SUCCEEDED | 0.033s
MONGODB | localhost:27017 req:8 conn:1:1 sconn:30 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"guest_email"=>1}, "unique"=>true, "name"=>"guest_email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70198503881760 type=uuid data=0xbc20e9abdd354ed9...>}}
MONGODB | localhost:27017 req:8 | booker_development.createIndexes | SUCCEEDED | 0.029s
MONGOID: Created indexes on Reservation:
MONGOID: Index: {:reservation_code=>1}, Options: {:unique=>true}
MONGOID: Index: {:guest_email=>1}, Options: {:unique=>true}
Started POST "/api/reservations/" for ::1 at 2021-12-02 21:00:55 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:7 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 64ms (Views: 2.6ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 21:02:12 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:15 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:15 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:16 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:16 | booker_development.find | SUCCEEDED | 0.044s
MONGODB | localhost:27017 req:17 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:17 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:18 conn:1:1 sconn:33 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de'), "reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "guest_id"=>BSO...
MONGODB | localhost:27017 req:18 | booker_development.insert | SUCCEEDED | 0.007s
Completed 200 OK in 109ms (Views: 0.3ms | MongoDB: 0.1ms)


MONGODB | localhost:27017 req:934 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747441280 type=uuid data=0xd668774e043f4877...>}}
MONGODB | localhost:27017 req:934 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:936 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181747441280 type=uuid data=0xd668774e043f4877...>}}
MONGODB | localhost:27017 req:936 | booker_development.find | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-02 21:06:23 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"12345123", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"12345123", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:44 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:44 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:45 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:45 | booker_development.find | SUCCEEDED | 0.011s
MONGODB | localhost:27017 req:46 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:46 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 28ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 21:06:33 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:48 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:48 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:49 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:49 | booker_development.find | SUCCEEDED | 0.009s
MONGODB | localhost:27017 req:50 conn:1:1 sconn:33 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451239"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70317367986080 type=uuid data=0x4da39e4c56404847...>}}
MONGODB | localhost:27017 req:50 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:51 conn:1:1 sconn:33 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8c4d9772ecf5e9cb913e0'), "reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "guest_id"=>BS...
MONGODB | localhost:27017 req:51 | booker_development.insert | SUCCEEDED | 0.021s
Completed 500 Internal Server Error in 55ms (MongoDB: 0.0ms)


  
Mongo::Error::OperationFailure ([11000]: E11000 duplicate key error collection: booker_development.reservations index: guest_email_1 dup key: { guest_email: "markusmanas@gmail.com" } (on localhost:27017, legacy retry, attempt 1)):
  
app/controllers/api/reservations_controller.rb:11:in `create'
Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:09:27 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 1ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservation/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:09:40 +0800
  
ActionController::RoutingError (No route matches [GET] "/api/reservation/61a8c3d5772ecf5e9cb913de"):
  
actionpack (5.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.6) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.6) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.6) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.6) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.6) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:10:04 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 1ms (Views: 0.1ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:12:06 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 25ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:13:11 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 25ms (Views: 1.4ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:14:19 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 1ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:16:09 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 27ms (Views: 0.7ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:18:32 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 400 Bad Request in 13ms (MongoDB: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: reservation):
  
app/controllers/api/reservations_controller.rb:36:in `reservation_params'
app/controllers/api/reservations_controller.rb:41:in `get_reservation'
Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:20:11 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 1ms (Views: 0.3ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:20:47 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 1ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:21:12 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 1ms (Views: 0.3ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:22:56 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 400 Bad Request in 20ms (MongoDB: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: reservation):
  
app/controllers/api/reservations_controller.rb:36:in `reservation_params'
app/controllers/api/reservations_controller.rb:41:in `get_reservation'
Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:24:52 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 200 OK in 43ms (Views: 0.4ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 21:25:41 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
Completed 500 Internal Server Error in 22ms (MongoDB: 0.0ms)


  
Mongoid::Errors::InvalidFind (
message:
  Calling Document.find with nil is invalid.
summary:
  Document.find expects the parameters to be 1 or more ids, and will return a single document if 1 id is provided, otherwise an array of documents if multiple ids are provided.
resolution:
  Most likely this is caused by passing parameters directly through to the find, and the parameter either is not present or the key from which it is accessed is incorrect.):
  
app/controllers/api/reservations_controller.rb:41:in `get_reservation'
Started POST "/api/reservations/" for ::1 at 2021-12-02 21:26:28 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
Completed 500 Internal Server Error in 8ms (MongoDB: 0.0ms)


  
Mongoid::Errors::UnknownAttribute (
message:
  Attempted to set a value for 'status' which is not allowed on the model Reservation.
summary:
  Without including Mongoid::Attributes::Dynamic in your model and the attribute does not already exist in the attributes hash, attempting to call Reservation#status= for it is not allowed. This is also triggered by passing the attribute to any method that accepts an attributes hash, and is raised instead of getting a NoMethodError.
resolution:
  You can include Mongoid::Attributes::Dynamic if you expect to be writing values for undefined fields often.):
  
app/controllers/api/reservations_controller.rb:9:in `new'
app/controllers/api/reservations_controller.rb:9:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 21:28:13 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
Completed 500 Internal Server Error in 24ms (MongoDB: 0.0ms)


  
Mongo::Error::OperationFailure ([11000]: E11000 duplicate key error collection: booker_development.reservations index: guest_email_1 dup key: { guest_email: "markusmanas@gmail.com" } (on localhost:27017, legacy retry, attempt 1)):
  
app/controllers/api/reservations_controller.rb:11:in `create'
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 29.97 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:39 | booker_development.listIndexes | STARTED | {"listIndexes"=>"guests", "cursor"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70149880677000 type=uuid data=0xb8ea51485a514fdb...>}}
MONGODB | localhost:27017 req:6 | booker_development.listIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:39 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"guests", "index"=>{"email"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70149880677000 type=uuid data=0xb8ea51485a514fdb...>}}
MONGODB | localhost:27017 req:7 | booker_development.dropIndexes | SUCCEEDED | 0.020s
MONGOID: Removed index 'email_1' on collection 'guests' in database 'booker_development'.
MONGODB | localhost:27017 req:8 conn:1:1 sconn:39 | booker_development.listIndexes | STARTED | {"listIndexes"=>"reservations", "cursor"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70149880677000 type=uuid data=0xb8ea51485a514fdb...>}}
MONGODB | localhost:27017 req:8 | booker_development.listIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:9 conn:1:1 sconn:39 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"reservations", "index"=>{"reservation_code"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70149880677000 type=uuid data=0xb8ea51485a514fdb...>}}
MONGODB | localhost:27017 req:9 | booker_development.dropIndexes | SUCCEEDED | 0.022s
MONGOID: Removed index 'reservation_code_1' on collection 'reservations' in database 'booker_development'.
MONGODB | localhost:27017 req:10 conn:1:1 sconn:39 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"reservations", "index"=>{"guest_email"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70149880677000 type=uuid data=0xb8ea51485a514fdb...>}}
MONGODB | localhost:27017 req:10 | booker_development.dropIndexes | SUCCEEDED | 0.014s
MONGOID: Removed index 'guest_email_1' on collection 'reservations' in database 'booker_development'.
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:42 | booker_development.createIndexes | STARTED | {"createIndexes"=>"guests", "indexes"=>[{"key"=>{"email"=>1}, "unique"=>true, "name"=>"email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70330534481740 type=uuid data=0x77dd0c0e3e5f4bed...>}}
MONGODB | localhost:27017 req:6 | booker_development.createIndexes | SUCCEEDED | 0.164s
MONGOID: Created indexes on Guest:
MONGOID: Index: {:email=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:7 conn:1:1 sconn:42 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"reservation_code"=>1}, "unique"=>true, "name"=>"reservation_code_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70330534481740 type=uuid data=0x77dd0c0e3e5f4bed...>}}
MONGODB | localhost:27017 req:7 | booker_development.createIndexes | SUCCEEDED | 0.154s
MONGODB | localhost:27017 req:8 conn:1:1 sconn:42 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"guest_email"=>1}, "unique"=>true, "name"=>"guest_email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70330534481740 type=uuid data=0x77dd0c0e3e5f4bed...>}}
MONGODB | localhost:27017 req:8 | booker_development.createIndexes | SUCCEEDED | 0.155s
MONGOID: Created indexes on Reservation:
MONGOID: Index: {:reservation_code=>1}, Options: {:unique=>true}
MONGOID: Index: {:guest_email=>1}, Options: {:unique=>true}
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:45 | booker_development.listIndexes | STARTED | {"listIndexes"=>"guests", "cursor"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70334393134340 type=uuid data=0x06ebe343a444444c...>}}
MONGODB | localhost:27017 req:6 | booker_development.listIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:45 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"guests", "index"=>{"email"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70334393134340 type=uuid data=0x06ebe343a444444c...>}}
MONGODB | localhost:27017 req:7 | booker_development.dropIndexes | SUCCEEDED | 0.019s
MONGOID: Removed index 'email_1' on collection 'guests' in database 'booker_development'.
MONGODB | localhost:27017 req:8 conn:1:1 sconn:45 | booker_development.listIndexes | STARTED | {"listIndexes"=>"reservations", "cursor"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70334393134340 type=uuid data=0x06ebe343a444444c...>}}
MONGODB | localhost:27017 req:8 | booker_development.listIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:9 conn:1:1 sconn:45 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"reservations", "index"=>{"reservation_code"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70334393134340 type=uuid data=0x06ebe343a444444c...>}}
MONGODB | localhost:27017 req:9 | booker_development.dropIndexes | SUCCEEDED | 0.019s
MONGOID: Removed index 'reservation_code_1' on collection 'reservations' in database 'booker_development'.
MONGODB | localhost:27017 req:10 conn:1:1 sconn:45 | booker_development.dropIndexes | STARTED | {"dropIndexes"=>"reservations", "index"=>{"guest_email"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70334393134340 type=uuid data=0x06ebe343a444444c...>}}
MONGODB | localhost:27017 req:10 | booker_development.dropIndexes | SUCCEEDED | 0.017s
MONGOID: Removed index 'guest_email_1' on collection 'reservations' in database 'booker_development'.
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:48 | booker_development.createIndexes | STARTED | {"createIndexes"=>"guests", "indexes"=>[{"key"=>{"email"=>1}, "unique"=>true, "name"=>"email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70246977362840 type=uuid data=0xca72d18a76994b64...>}}
MONGODB | localhost:27017 req:6 | booker_development.createIndexes | SUCCEEDED | 0.156s
MONGOID: Created indexes on Guest:
MONGOID: Index: {:email=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:7 conn:1:1 sconn:48 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"reservation_code"=>1}, "unique"=>true, "name"=>"reservation_code_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70246977362840 type=uuid data=0xca72d18a76994b64...>}}
MONGODB | localhost:27017 req:7 | booker_development.createIndexes | SUCCEEDED | 0.139s
MONGOID: Created indexes on Reservation:
MONGOID: Index: {:reservation_code=>1}, Options: {:unique=>true}
Started POST "/api/reservations/" for ::1 at 2021-12-02 21:30:11 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:7 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:8 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451239"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:8 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:9 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8ca64772ecf64151d1993'), "guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"acc...
MONGODB | localhost:27017 req:9 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 65ms (Views: 0.4ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:1167 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181768046200 type=uuid data=0x90e218914e544dbd...>}}
MONGODB | localhost:27017 req:1167 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1169 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181768046200 type=uuid data=0x90e218914e544dbd...>}}
MONGODB | localhost:27017 req:1169 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1179 conn:1:1 sconn:15 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8ca64772ecf64151d1993')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181768046200 type=uuid data=0x90e218914e544dbd...>}}
MONGODB | localhost:27017 req:1179 | booker_development.delete | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1180 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181768046200 type=uuid data=0x90e218914e544dbd...>}}
MONGODB | localhost:27017 req:1180 | booker_development.find | SUCCEEDED | 0.001s
Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:46:26 +0800
  
SyntaxError (/Users/irippleuser/Desktop/mongo/booker/app/controllers/api/reservations_controller.rb:52: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/api/reservations_controller.rb:52: syntax error, unexpected end-of-input, expecting end
Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:48:30 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
Completed 404 Not Found in 12ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8c3d5772ecf5e9cb913de" for ::1 at 2021-12-02 21:49:14 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8c3d5772ecf5e9cb913de"}
MONGODB | localhost:27017 req:124 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:124 | booker_development.find | SUCCEEDED | 0.007s
Completed 200 OK in 22ms (Views: 1.0ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 21:51:35 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451239", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:139 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:139 | booker_development.find | SUCCEEDED | 0.013s
MONGODB | localhost:27017 req:140 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:140 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:141 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451239"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:141 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:142 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8cf67772ecf64151d1994'), "reservation_code"=>"123451239", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "guest_id"=>BS...
MONGODB | localhost:27017 req:142 | booker_development.insert | SUCCEEDED | 0.004s
Completed 200 OK in 58ms (Views: 0.3ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:1225 conn:1:1 sconn:15 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70181768046200 type=uuid data=0x90e218914e544dbd...>}}
MONGODB | localhost:27017 req:1225 | booker_development.find | SUCCEEDED | 0.002s
Started POST "/api/reservations/" for ::1 at 2021-12-02 21:54:40 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:161 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:161 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:162 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:162 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:163 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451232ss9"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:163 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:164 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8d020772ecf64151d1995'), "guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"...
MONGODB | localhost:27017 req:164 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 23ms (Views: 0.3ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8d020772ecf64151d1995" for ::1 at 2021-12-02 21:59:06 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8d020772ecf64151d1995"}
MONGODB | localhost:27017 req:192 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d020772ecf64151d1995')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:192 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:193 conn:1:1 sconn:51 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d020772ecf64151d1995')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:193 | booker_development.delete | SUCCEEDED | 0.001s
Completed 200 OK in 17ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 21:59:53 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:199 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:199 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:200 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:200 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:201 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451232ss9"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:201 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:202 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8d159772ecf64151d1996'), "guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"...
MONGODB | localhost:27017 req:202 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 45ms (Views: 0.2ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8d159772ecf64151d1996" for ::1 at 2021-12-02 22:01:51 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8d159772ecf64151d1996"}
MONGODB | localhost:27017 req:214 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d159772ecf64151d1996')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:214 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:215 conn:1:1 sconn:51 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d159772ecf64151d1996')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:215 | booker_development.delete | SUCCEEDED | 0.003s
Completed 200 OK in 18ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 22:02:15 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:219 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:219 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:220 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:220 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:221 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451232ss9"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:221 | booker_development.find | SUCCEEDED | 0.035s
MONGODB | localhost:27017 req:222 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997'), "guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"...
MONGODB | localhost:27017 req:222 | booker_development.insert | SUCCEEDED | 0.003s
Completed 200 OK in 111ms (Views: 0.3ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:02:55 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"guest_email"=>"markusmana1s@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"accepted", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmana1s@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:227 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:227 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:228 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:228 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:229 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "u"=>{"$set"=>{"guest_email"=>"markusmana1s@gmail.com"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 t...
MONGODB | localhost:27017 req:229 | booker_development.update | SUCCEEDED | 0.009s
Completed 200 OK in 21ms (Views: 0.4ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:05:11 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"guest_email"=>"markusmana1s@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"declined", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmana1s@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:243 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:243 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:244 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:244 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:245 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "u"=>{"$set"=>{"status"=>"declined"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22e...
MONGODB | localhost:27017 req:245 | booker_development.update | SUCCEEDED | 0.016s
Completed 200 OK in 44ms (Views: 0.7ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:05:23 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"status"=>"accepted", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{}}
MONGODB | localhost:27017 req:248 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:248 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:249 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:249 | booker_development.find | SUCCEEDED | 0.011s
MONGODB | localhost:27017 req:250 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "u"=>{"$set"=>{"status"=>"accepted"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22e...
MONGODB | localhost:27017 req:250 | booker_development.update | SUCCEEDED | 0.009s
Completed 200 OK in 32ms (Views: 0.3ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:05:31 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"status"=>"declined", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{}}
MONGODB | localhost:27017 req:251 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:251 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:252 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:252 | booker_development.find | SUCCEEDED | 0.008s
MONGODB | localhost:27017 req:253 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "u"=>{"$set"=>{"status"=>"declined"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22e...
MONGODB | localhost:27017 req:253 | booker_development.update | SUCCEEDED | 0.003s
Completed 200 OK in 28ms (Views: 0.4ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:09:14 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"guest_email"=>"markusmana21s@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"declined", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmana21s@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:277 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:277 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 3ms (MongoDB: 0.0ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/reservations_controller.rb:65:in `parse_payload'
app/controllers/api/reservations_controller.rb:27:in `update'
Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:09:55 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"guest_email"=>"markusmana21s@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"declined", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmana21s@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:282 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:282 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:283 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:283 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:284 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "u"=>{"$set"=>{"guest_email"=>"markusmana21s@gmail.com"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 ...
MONGODB | localhost:27017 req:284 | booker_development.update | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:285 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmana21s@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:285 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 27ms (Views: 0.2ms | MongoDB: 0.0ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/reservations_controller.rb:35:in `update'
Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:10:18 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"guest_email"=>"markusmana21s@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"declined", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmana21s@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:288 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:288 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:289 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:289 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:290 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmana21s@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:290 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 30ms (Views: 0.3ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 22:10:36 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"guest_email"=>"markusmanas@gmail.com", "reservation_code"=>"123451232ss9", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14", "status"=>"declined", "id"=>"61a8d1e7772ecf64151d1997", "reservation"=>{"reservation_code"=>"123451232ss9", "guest_email"=>"markusmanas@gmail.com", "start_date"=>"2021-10-10", "end_date"=>"2021-10-14"}}
MONGODB | localhost:27017 req:293 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:293 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:294 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:294 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:295 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "u"=>{"$set"=>{"guest_email"=>"markusmanas@gmail.com"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 ty...
MONGODB | localhost:27017 req:295 | booker_development.update | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:296 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:296 | booker_development.find | SUCCEEDED | 0.003s
Completed 200 OK in 34ms (Views: 0.3ms | MongoDB: 0.0ms)


Started GET "/api/reservations/" for ::1 at 2021-12-02 22:12:32 +0800
Processing by Api::ReservationsController#index as */*
Completed 500 Internal Server Error in 114ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `render_json' for #<Api::ReservationsController:0x00007fa22fe6f158>
Did you mean?  render):
  
app/controllers/api/reservations_controller.rb:7:in `index'
Started GET "/api/reservations/" for ::1 at 2021-12-02 22:13:43 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:316 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:316 | booker_development.find | SUCCEEDED | 0.001s
Completed 200 OK in 14ms (Views: 2.7ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/123451232ss9" for ::1 at 2021-12-02 22:14:06 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"123451232ss9"}
MONGODB | localhost:27017 req:319 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>"123451232ss9"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:319 | booker_development.find | SUCCEEDED | 0.014s
MONGODB | localhost:27017 req:320 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451232ss9"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:320 | booker_development.find | SUCCEEDED | 0.020s
MONGODB | localhost:27017 req:321 conn:1:1 sconn:51 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:321 | booker_development.delete | SUCCEEDED | 0.008s
Completed 200 OK in 53ms (Views: 0.3ms | MongoDB: 0.0ms)


Started GET "/api/reservations/" for ::1 at 2021-12-02 22:14:08 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:322 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:322 | booker_development.find | SUCCEEDED | 0.005s
Completed 200 OK in 9ms (Views: 8.4ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/123451239" for ::1 at 2021-12-02 22:14:18 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"123451239"}
MONGODB | localhost:27017 req:324 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>"123451239"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:324 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:325 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"123451239"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:325 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:326 conn:1:1 sconn:51 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8cf67772ecf64151d1994')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:326 | booker_development.delete | SUCCEEDED | 0.002s
Completed 200 OK in 8ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/" for ::1 at 2021-12-02 22:14:20 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:327 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:327 | booker_development.find | SUCCEEDED | 0.001s
Completed 200 OK in 5ms (Views: 4.7ms | MongoDB: 0.0ms)


Started GET "/api/reservations/" for ::1 at 2021-12-02 22:31:22 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:430 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167337921260 type=uuid data=0x22eac9847c8c43ed...>}}
MONGODB | localhost:27017 req:430 | booker_development.find | SUCCEEDED | 0.013s
Completed 200 OK in 126ms (Views: 26.0ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:23:04 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:741 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:741 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 16ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `each_with_index' for <ActionController::Parameters {} permitted: true>:ActionController::Parameters):
  
app/controllers/api/reservations_controller.rb:88:in `flatten_payload'
app/controllers/api/reservations_controller.rb:69:in `parse_payload'
app/controllers/api/reservations_controller.rb:11:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-02 23:29:09 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:779 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:779 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:780 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:780 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:781 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:781 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 21ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:31:30 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:796 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:796 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:797 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:797 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:798 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:798 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 11ms (Views: 0.1ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:32:38 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:806 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:806 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:807 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:807 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:808 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:808 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 25ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:33:42 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:815 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:815 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:816 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:816 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:817 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:817 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 31ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:34:47 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:825 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:825 | booker_development.find | SUCCEEDED | 0.027s
MONGODB | localhost:27017 req:826 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:826 | booker_development.find | SUCCEEDED | 0.016s
MONGODB | localhost:27017 req:827 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:827 | booker_development.find | SUCCEEDED | 0.029s
Completed 400 Bad Request in 104ms (Views: 0.4ms | MongoDB: 0.1ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:40:48 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:864 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:864 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:865 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:865 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:866 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:866 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 31ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:41:05 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:868 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:868 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:869 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:869 | booker_development.find | SUCCEEDED | 0.015s
MONGODB | localhost:27017 req:870 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:870 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 37ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:45:10 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:896 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:896 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:897 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:897 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:898 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:898 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 24ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:45:52 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:903 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:903 | booker_development.find | SUCCEEDED | 0.009s
MONGODB | localhost:27017 req:904 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:904 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:905 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:905 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 21ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:55:04 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:961 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:961 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:962 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:962 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:963 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:963 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 18ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:55:46 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:968 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:968 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:969 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:969 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:970 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:970 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 25ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:57:01 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:979 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:979 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:980 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:980 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:981 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:981 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:982 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998'), "expected_payout_amount"=>"3800.00", "guest_details_localized_description"=>"4 guests", "guest_details_number_of_adults"=>2, "guest_details_n...
MONGODB | localhost:27017 req:982 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 20ms (Views: 0.3ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8eccd772ecf64151d1998" for ::1 at 2021-12-02 23:57:49 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8eccd772ecf64151d1998"}
MONGODB | localhost:27017 req:988 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:988 | booker_development.find | SUCCEEDED | 0.001s
Completed 200 OK in 15ms (Views: 0.5ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:57:57 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:990 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:990 | booker_development.find | SUCCEEDED | 0.026s
MONGODB | localhost:27017 req:991 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:991 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:992 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:992 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 59ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-02 23:58:04 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123456778", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:993 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:993 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:994 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:994 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:995 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123456778"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:995 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:996 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8ed0c772ecf64151d199a'), "expected_payout_amount"=>"3800.00", "guest_details_localized_description"=>"4 guests", "guest_details_number_of_adults"=>2, "guest_details_n...
MONGODB | localhost:27017 req:996 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 19ms (Views: 0.3ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8ed0c772ecf64151d199a" for ::1 at 2021-12-02 23:58:38 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8ed0c772ecf64151d199a"}
MONGODB | localhost:27017 req:1001 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8ed0c772ecf64151d199a')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1001 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1002 conn:1:1 sconn:51 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8ed0c772ecf64151d199a')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1002 | booker_development.delete | SUCCEEDED | 0.004s
Completed 200 OK in 14ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/61a8eccd772ecf64151d1998" for ::1 at 2021-12-02 23:58:43 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8eccd772ecf64151d1998"}
MONGODB | localhost:27017 req:1003 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1003 | booker_development.find | SUCCEEDED | 0.002s
Completed 200 OK in 7ms (Views: 0.8ms | MongoDB: 0.0ms)


Started PUT "/api/reservations/61a8d1e7772ecf64151d1997" for ::1 at 2021-12-02 23:59:02 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"reservation"=>{"code"=>"XXX123456778", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"PHP", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}, "id"=>"61a8d1e7772ecf64151d1997"}
MONGODB | localhost:27017 req:1006 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8d1e7772ecf64151d1997')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1006 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1007 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"61a8d1e7772ecf64151d1997"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1007 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 14ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `update_attributes' for nil:NilClass):
  
app/controllers/api/reservations_controller.rb:29:in `update'
Started PUT "/api/reservations/61a8eccd772ecf64151d1998" for ::1 at 2021-12-02 23:59:31 +0800
Processing by Api::ReservationsController#update as */*
  Parameters: {"reservation"=>{"code"=>"XXX123456778", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"PHP", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}, "id"=>"61a8eccd772ecf64151d1998"}
MONGODB | localhost:27017 req:1011 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1011 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:1012 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1012 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1013 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123456778", "_id"=>{"$ne"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=...
MONGODB | localhost:27017 req:1013 | booker_development.find | SUCCEEDED | 0.073s
MONGODB | localhost:27017 req:1014 conn:1:1 sconn:51 | booker_development.update | STARTED | {"update"=>"reservations", "ordered"=>true, "updates"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "u"=>{"$set"=>{"host_currency"=>"PHP", "reservation_code"=>"XXX123456778"}}}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary...
MONGODB | localhost:27017 req:1014 | booker_development.update | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1015 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1015 | booker_development.find | SUCCEEDED | 0.001s
Completed 200 OK in 96ms (Views: 0.4ms | MongoDB: 0.1ms)


Started GET "/api/reservations/61a8eccd772ecf64151d1998" for ::1 at 2021-12-02 23:59:39 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8eccd772ecf64151d1998"}
MONGODB | localhost:27017 req:1017 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1017 | booker_development.find | SUCCEEDED | 0.028s
Completed 200 OK in 34ms (Views: 1.4ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 00:15:26 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:1112 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1112 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1113 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1113 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1114 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1114 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1115 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"guests", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8f11f772ecf64151d199b'), "email"=>nil}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1115 | booker_development.insert | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1116 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1116 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1117 conn:1:1 sconn:51 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8f11f772ecf64151d199c'), "reservation_code"=>"YYY12345678", "guest_email"=>nil, "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "guest_id"=>BSON::ObjectId('61a8...
MONGODB | localhost:27017 req:1117 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 43ms (Views: 0.7ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8f11f772ecf64151d199c" for ::1 at 2021-12-03 00:15:59 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8f11f772ecf64151d199c"}
MONGODB | localhost:27017 req:1122 conn:1:1 sconn:51 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8f11f772ecf64151d199c')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1122 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1123 conn:1:1 sconn:51 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8f11f772ecf64151d199c')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70167358943780 type=uuid data=0x16800e14ca434ef9...>}}
MONGODB | localhost:27017 req:1123 | booker_development.delete | SUCCEEDED | 0.033s
Completed 200 OK in 44ms (Views: 0.2ms | MongoDB: 0.0ms)


MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:35 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:35 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:36 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:36 | booker_development.find | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-03 00:22:44 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:7 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 97ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `email' for #<Reservation:0x00007f9379475040>):
  
app/controllers/api/reservations_controller.rb:13:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-03 00:23:33 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:12 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:12 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:13 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:13 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:14 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:14 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 28ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 00:29:39 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123456778", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:52 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:52 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:53 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:53 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:54 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123456778"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:54 | booker_development.find | SUCCEEDED | 0.005s
Completed 400 Bad Request in 36ms (Views: 0.5ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 00:29:49 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123456778x", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:56 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:56 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:57 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:57 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:58 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123456778x"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:58 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:59 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8f47d772ecf6e84b90326'), "expected_payout_amount"=>"3800.00", "guest_details_localized_description"=>"4 guests", "guest_details_number_of_adults"=>2, "guest_details_n...
MONGODB | localhost:27017 req:59 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 22ms (Views: 0.4ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:91 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:91 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:94 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:94 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:95 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:95 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:96 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:96 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:105 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:105 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:106 conn:1:1 sconn:54 | booker_development.delete | STARTED | {"delete"=>"guests", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8f11f772ecf64151d199b')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:106 | booker_development.delete | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-03 00:31:52 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123456778x", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:72 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:72 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:73 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:73 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:74 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123456778x"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:74 | booker_development.find | SUCCEEDED | 0.003s
Completed 400 Bad Request in 61ms (Views: 2.1ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 00:31:57 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1234568x", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"markusmanas@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:76 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:76 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:77 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"markusmanas@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:77 | booker_development.find | SUCCEEDED | 0.007s
MONGODB | localhost:27017 req:78 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1234568x"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:78 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:79 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8f4fd772ecf6e84b90328'), "expected_payout_amount"=>"3800.00", "guest_details_localized_description"=>"4 guests", "guest_details_number_of_adults"=>2, "guest_details_n...
MONGODB | localhost:27017 req:79 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 25ms (Views: 0.5ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 00:36:04 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1234568x", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:104 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:104 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:105 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:105 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:106 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne@gmail.com"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:106 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:107 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"guests", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8f5f4772ecf6e84b90329'), "email"=>"wayne@gmail.com"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:107 | booker_development.insert | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:108 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1234568x"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:108 | booker_development.find | SUCCEEDED | 0.005s
Completed 400 Bad Request in 27ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 00:36:11 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1278934568x", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne@gmail.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:110 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:110 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:111 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne@gmail.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:111 | booker_development.find | SUCCEEDED | 0.009s
MONGODB | localhost:27017 req:112 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1278934568x"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:112 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:113 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8f5fb772ecf6e84b9032b'), "expected_payout_amount"=>"3800.00", "guest_details_localized_description"=>"4 guests", "guest_details_number_of_adults"=>2, "guest_details_n...
MONGODB | localhost:27017 req:113 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 32ms (Views: 1.1ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:134 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838221020 type=uuid data=0xc36ed92969ca4eb9...>}}
MONGODB | localhost:27017 req:134 | booker_development.find | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-03 00:50:40 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:201 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:201 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:202 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:202 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:203 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:203 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:204 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:204 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 24ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 01:01:55 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:272 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:272 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:273 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:273 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:274 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>nil}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:274 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:275 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:275 | booker_development.find | SUCCEEDED | 0.006s
Completed 400 Bad Request in 35ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 01:08:33 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:316 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:316 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 10ms (MongoDB: 0.0ms)


  
ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash):
  
app/controllers/api/reservations_controller.rb:56:in `reservation_params'
app/controllers/api/reservations_controller.rb:11:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-03 01:08:58 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:320 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:320 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:321 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:321 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:322 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:322 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:323 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"guests", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8fdaa772ecf6e84b9032e'), "email"=>"wayne_woodbridge@bnb.com"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...
MONGODB | localhost:27017 req:323 | booker_development.insert | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:324 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:324 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:325 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8fdaa772ecf6e84b9032f'), "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest_first_name"=>"Wayne", "guest_last_name"=>"Wo...
MONGODB | localhost:27017 req:325 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 31ms (Views: 0.4ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8fdaa772ecf6e84b9032f" for ::1 at 2021-12-03 01:10:41 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8fdaa772ecf6e84b9032f"}
MONGODB | localhost:27017 req:336 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8fdaa772ecf6e84b9032f')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:336 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:337 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8fdaa772ecf6e84b9032f')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:337 | booker_development.delete | SUCCEEDED | 0.001s
Completed 200 OK in 28ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 01:10:52 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:339 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:339 | booker_development.find | SUCCEEDED | 0.016s
MONGODB | localhost:27017 req:340 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:340 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:341 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:341 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:342 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8fe1c772ecf6e84b90330'), "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest_first_name"=>"Wayne", "guest_last_name"=>"Wo...
MONGODB | localhost:27017 req:342 | booker_development.insert | SUCCEEDED | 0.005s
Completed 200 OK in 63ms (Views: 0.6ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:345 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "limit"=>1, "sort"=>{"_id"=>-1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:345 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:347 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:347 | booker_development.find | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-03 01:11:41 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:348 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:348 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:349 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:349 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:350 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:350 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 23ms (Views: 0.2ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:370 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:370 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:372 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:372 | booker_development.find | SUCCEEDED | 0.001s
Started GET "/api/reservations/61a8f5fb772ecf6e84b9032b" for ::1 at 2021-12-03 01:15:31 +0800
Processing by Api::ReservationsController#show as */*
  Parameters: {"id"=>"61a8f5fb772ecf6e84b9032b"}
MONGODB | localhost:27017 req:374 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8f5fb772ecf6e84b9032b')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:374 | booker_development.find | SUCCEEDED | 0.002s
Completed 200 OK in 6ms (Views: 0.8ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 01:16:34 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:381 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:381 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:382 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:382 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:383 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:383 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:384 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a8ff72772ecf6e84b90332'), "reservation_expected_payout_amount"=>"3800.00", "reservation_guest_details_localized_description"=>"4 guests", "reservation_guest_details_nu...
MONGODB | localhost:27017 req:384 | booker_development.insert | SUCCEEDED | 0.003s
Completed 200 OK in 61ms (Views: 2.7ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 01:18:52 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:399 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:399 | booker_development.find | SUCCEEDED | 0.008s
MONGODB | localhost:27017 req:400 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:400 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:401 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135739816940 type=uuid data=0x1ad093d8825247bc...>}}
MONGODB | localhost:27017 req:401 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 21ms (Views: 0.3ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:463 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-03-12"}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:463 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:465 conn:1:1 sconn:54 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-12"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:465 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:501 conn:1:1 sconn:54 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-12"}, "end_date"=>{"$lte"=>"2021-03-16"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838244860 type=uuid data=0x5baeafa5e3764259...>}}
MONGODB | localhost:27017 req:501 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | Error running awaited hello on localhost:27017: Mongo::Error::SocketTimeoutError: Errno::ETIMEDOUT: Operation timed out - Took more than 20 seconds to receive data (select call timed out) (for 127.0.0.1:27017 (no TLS)) (on localhost:27017)
MONGODB | Error running awaited hello on localhost:27017: Mongo::Error::SocketTimeoutError: Errno::ETIMEDOUT: Operation timed out - Took more than 20 seconds to receive data (select call timed out) (for 127.0.0.1:27017 (no TLS)) (on localhost:27017)
MONGODB | localhost:27017 req:885 conn:1:1 sconn:54 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326831396380 type=uuid data=0xe3503dd569e0460f...>}}
MONGODB | localhost:27017 req:885 | booker_development.find | SUCCEEDED | 0.007s
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:6 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:7 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:7 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:9 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-10", "$lte"=>"2021-10-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:9 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:11 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"_id"=>BSON::ObjectId('61a8a8fd772ecf5317d764e7')}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:11 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:12 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-10", "$lte"=>"2021-10-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:12 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:19 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09", "$lte"=>"2021-10-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:19 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:45 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09", "$lte"=>"2021-10-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:45 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:56 conn:1:1 sconn:62 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:56 | booker_development.count | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:57 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid da...
MONGODB | localhost:27017 req:57 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:118 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:118 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:121 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:121 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:123 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid da...
MONGODB | localhost:27017 req:123 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:127 conn:1:1 sconn:62 | booker_development.explain | STARTED | {"explain"=>{"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:127 | booker_development.explain | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:132 conn:1:1 sconn:62 | booker_development.explain | STARTED | {"explain"=>{"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:132 | booker_development.explain | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:138 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:138 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:140 conn:1:1 sconn:62 | booker_development.explain | STARTED | {"explain"=>{"find"=>"reservations", "filter"=>{"reservation_code"=>"12345123"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:140 | booker_development.explain | SUCCEEDED | 0.001s
MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:65 | booker_development.createIndexes | STARTED | {"createIndexes"=>"guests", "indexes"=>[{"key"=>{"email"=>1}, "unique"=>true, "name"=>"email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70301793010340 type=uuid data=0xd5f03ba630d1420d...>}}
MONGODB | localhost:27017 req:6 | booker_development.createIndexes | SUCCEEDED | 0.015s
MONGOID: Created indexes on Guest:
MONGOID: Index: {:email=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:7 conn:1:1 sconn:65 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"reservation_code"=>1}, "unique"=>true, "name"=>"reservation_code_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70301793010340 type=uuid data=0xd5f03ba630d1420d...>}}
MONGODB | localhost:27017 req:7 | booker_development.createIndexes | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:8 conn:1:1 sconn:65 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"start_date"=>1}, "unique"=>true, "name"=>"start_date_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70301793010340 type=uuid data=0xd5f03ba630d1420d...>}}
MONGODB | localhost:27017 req:8 | booker_development.createIndexes | FAILED | [11000:DuplicateKey]: Index build failed: 8c4a8bd0-3e29-496a-a35a-a652768e1e92: Collection booker_development.reservations ( 8cbe4722-74af-44dd-9454-e1c08839ece4 ) :: caused by :: E11000 duplicate key error collection: booker_development.reservations index: start_date_1 dup key: { start_date: "2021-03-12" } | 0.1973399999551475s
Started GET "/api/reservations/" for ::1 at 2021-12-03 07:44:54 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:1069 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1069 | booker_development.find | SUCCEEDED | 0.002s
Completed 200 OK in 99ms (Views: 16.8ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8ff72772ecf6e84b90332" for ::1 at 2021-12-03 07:45:07 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8ff72772ecf6e84b90332"}
MONGODB | localhost:27017 req:1071 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8ff72772ecf6e84b90332')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1071 | booker_development.find | SUCCEEDED | 0.051s
MONGODB | localhost:27017 req:1072 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8ff72772ecf6e84b90332')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1072 | booker_development.delete | SUCCEEDED | 0.001s
Completed 200 OK in 59ms (Views: 0.3ms | MongoDB: 0.1ms)


Started DELETE "/api/reservations/61a8fe1c772ecf6e84b90330" for ::1 at 2021-12-03 07:45:18 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8fe1c772ecf6e84b90330"}
MONGODB | localhost:27017 req:1074 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8fe1c772ecf6e84b90330')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1074 | booker_development.find | SUCCEEDED | 0.017s
MONGODB | localhost:27017 req:1075 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8fe1c772ecf6e84b90330')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1075 | booker_development.delete | SUCCEEDED | 0.001s
Completed 200 OK in 22ms (Views: 0.2ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8f5fb772ecf6e84b9032b" for ::1 at 2021-12-03 07:45:27 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8f5fb772ecf6e84b9032b"}
MONGODB | localhost:27017 req:1077 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8f5fb772ecf6e84b9032b')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1077 | booker_development.find | SUCCEEDED | 0.027s
MONGODB | localhost:27017 req:1078 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8f5fb772ecf6e84b9032b')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1078 | booker_development.delete | SUCCEEDED | 0.015s
Completed 200 OK in 48ms (Views: 0.3ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8f4fd772ecf6e84b90328" for ::1 at 2021-12-03 07:45:39 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8f4fd772ecf6e84b90328"}
MONGODB | localhost:27017 req:1080 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8f4fd772ecf6e84b90328')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1080 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:1081 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8f4fd772ecf6e84b90328')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1081 | booker_development.delete | SUCCEEDED | 0.010s
Completed 200 OK in 20ms (Views: 0.3ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8f47d772ecf6e84b90326" for ::1 at 2021-12-03 07:45:52 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8f47d772ecf6e84b90326"}
MONGODB | localhost:27017 req:1084 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8f47d772ecf6e84b90326')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1084 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1085 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8f47d772ecf6e84b90326')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1085 | booker_development.delete | SUCCEEDED | 0.002s
Completed 200 OK in 10ms (Views: 0.2ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8eccd772ecf64151d1998" for ::1 at 2021-12-03 07:46:02 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8eccd772ecf64151d1998"}
MONGODB | localhost:27017 req:1087 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1087 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:1088 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1088 | booker_development.delete | SUCCEEDED | 0.001s
Completed 200 OK in 15ms (Views: 0.2ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a8eccd772ecf64151d1998" for ::1 at 2021-12-03 07:46:05 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a8eccd772ecf64151d1998"}
MONGODB | localhost:27017 req:1089 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a8eccd772ecf64151d1998')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1089 | booker_development.find | SUCCEEDED | 0.008s
MONGODB | localhost:27017 req:1090 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"61a8eccd772ecf64151d1998"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1090 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 31ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/api/reservations_controller.rb:45:in `destroy'
Started GET "/api/reservations/" for ::1 at 2021-12-03 07:46:11 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:1091 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1091 | booker_development.find | SUCCEEDED | 0.024s
Completed 200 OK in 30ms (Views: 28.5ms | MongoDB: 0.0ms)


MONGODB | Topology type 'unknown' initializing.
MONGODB | There was a change in the members of the 'Unknown' topology.
MONGODB | Server localhost:27017 initializing.
MONGODB | Waiting for up to 30.00 seconds for servers to be scanned: #<Cluster topology=Unknown[localhost:27017] servers=[#<Server address=localhost:27017 UNKNOWN>]>
MONGODB | Server description for localhost:27017 changed from 'unknown' to 'standalone'.
MONGODB | Topology type 'Unknown' changed to type 'Single'.
MONGODB | localhost:27017 req:6 conn:1:1 sconn:68 | booker_development.createIndexes | STARTED | {"createIndexes"=>"guests", "indexes"=>[{"key"=>{"email"=>1}, "unique"=>true, "name"=>"email_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70191236156960 type=uuid data=0x1ac6b4a9af5d4f44...>}}
MONGODB | localhost:27017 req:6 | booker_development.createIndexes | SUCCEEDED | 0.001s
MONGOID: Created indexes on Guest:
MONGOID: Index: {:email=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:7 conn:1:1 sconn:68 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"reservation_code"=>1}, "unique"=>true, "name"=>"reservation_code_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70191236156960 type=uuid data=0x1ac6b4a9af5d4f44...>}}
MONGODB | localhost:27017 req:7 | booker_development.createIndexes | SUCCEEDED | 0.000s
MONGODB | localhost:27017 req:8 conn:1:1 sconn:68 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"start_date"=>1}, "unique"=>true, "name"=>"start_date_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70191236156960 type=uuid data=0x1ac6b4a9af5d4f44...>}}
MONGODB | localhost:27017 req:8 | booker_development.createIndexes | SUCCEEDED | 0.190s
MONGODB | localhost:27017 req:9 conn:1:1 sconn:68 | booker_development.createIndexes | STARTED | {"createIndexes"=>"reservations", "indexes"=>[{"key"=>{"end_date"=>1}, "unique"=>true, "name"=>"end_date_1"}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70191236156960 type=uuid data=0x1ac6b4a9af5d4f44...>}}
MONGODB | localhost:27017 req:9 | booker_development.createIndexes | SUCCEEDED | 0.146s
MONGOID: Created indexes on Reservation:
MONGOID: Index: {:reservation_code=>1}, Options: {:unique=>true}
MONGOID: Index: {:start_date=>1}, Options: {:unique=>true}
MONGOID: Index: {:end_date=>1}, Options: {:unique=>true}
MONGODB | localhost:27017 req:175 conn:1:1 sconn:62 | booker_development.explain | STARTED | {"explain"=>{"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:175 | booker_development.explain | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:176 conn:1:1 sconn:62 | booker_development.explain | STARTED | {"explain"=>{"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid data=0x43b40428f5334101...>}}
MONGODB | localhost:27017 req:176 | booker_development.explain | SUCCEEDED | 0.001s
Started POST "/api/reservations/" for ::1 at 2021-12-03 07:48:21 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-12", "end_date"=>"2021-03-16", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1105 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1105 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:1106 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1106 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1107 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1107 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1108 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-12"}, "end_date"=>{"$lte"=>"2021-03-16"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1108 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1109 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a95b45772ecf6e84b90334'), "reservation_expected_payout_amount"=>"3800.00", "reservation_guest_details_localized_description"=>"4 guests", "reservation_guest_details_nu...
MONGODB | localhost:27017 req:1109 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 53ms (Views: 0.4ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 07:48:34 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX12345678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1112 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1112 | booker_development.find | SUCCEEDED | 0.008s
MONGODB | localhost:27017 req:1113 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1113 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1114 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1114 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1115 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-13"}, "end_date"=>{"$lte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1115 | booker_development.count | SUCCEEDED | 0.002s
Completed 400 Bad Request in 27ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 07:48:39 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1116 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1116 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:1117 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1117 | booker_development.find | SUCCEEDED | 0.023s
MONGODB | localhost:27017 req:1118 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1118 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1119 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-13"}, "end_date"=>{"$lte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1119 | booker_development.count | SUCCEEDED | 0.015s
MONGODB | localhost:27017 req:1120 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a95b57772ecf6e84b90336'), "reservation_expected_payout_amount"=>"3800.00", "reservation_guest_details_localized_description"=>"4 guests", "reservation_guest_details_nu...
MONGODB | localhost:27017 req:1120 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 63ms (Views: 0.3ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a95b57772ecf6e84b90336" for ::1 at 2021-12-03 07:48:50 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a95b57772ecf6e84b90336"}
MONGODB | localhost:27017 req:1122 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a95b57772ecf6e84b90336')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1122 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1123 conn:1:1 sconn:57 | booker_development.delete | STARTED | {"delete"=>"reservations", "ordered"=>true, "deletes"=>[{"q"=>{"_id"=>BSON::ObjectId('61a95b57772ecf6e84b90336')}, "limit"=>1}], "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1123 | booker_development.delete | SUCCEEDED | 0.008s
Completed 200 OK in 14ms (Views: 0.2ms | MongoDB: 0.0ms)


MONGODB | localhost:27017 req:207 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326859919560 type=uuid da...
MONGODB | localhost:27017 req:207 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:209 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}, "_id"=>{"$nin"=>[BSON::ObjectId('61a8c3d5772ecf5e9cb913de')]}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_developme...
MONGODB | localhost:27017 req:209 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:212 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}, "_id"=>{"$not"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de')}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development...
MONGODB | localhost:27017 req:212 | booker_development.find | FAILED | [2:BadValue]: $not needs a regex or a document | 0.000505999953020364s
MONGODB | localhost:27017 req:215 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}, "_id"=>{"$nin"=>[BSON::ObjectId('61a8c3d5772ecf5e9cb913de')]}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_developme...
MONGODB | localhost:27017 req:215 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:217 conn:1:1 sconn:62 | booker_development.explain | STARTED | {"explain"=>{"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}, "_id"=>{"$nin"=>[BSON::ObjectId('61a8c3d5772ecf5e9cb913de')]}}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x7032...
MONGODB | localhost:27017 req:217 | booker_development.explain | SUCCEEDED | 0.002s
Started POST "/api/reservations/" for ::1 at 2021-12-03 07:53:52 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1154 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1154 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1155 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1155 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1156 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1156 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1157 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-03-13", "$lte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1157 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1158 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"end_date"=>{"$gte"=>"2021-03-13", "$lte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1158 | booker_development.find | SUCCEEDED | 0.007s
MONGODB | localhost:27017 req:1159 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$lte"=>"2021-03-13"}, "end_date"=>{"$gte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1159 | booker_development.find | SUCCEEDED | 0.010s
Completed 500 Internal Server Error in 54ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `inject' for #<Reservation:0x00007f937c13c970>
Did you mean?  inspect):
  
app/models/reservation.rb:30:in `date_overlap'
app/controllers/api/reservations_controller.rb:13:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-03 07:54:15 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1163 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1163 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1164 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1164 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1165 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1165 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1166 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-03-13", "$lte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1166 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1167 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"end_date"=>{"$gte"=>"2021-03-13", "$lte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1167 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1168 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$lte"=>"2021-03-13"}, "end_date"=>{"$gte"=>"2021-03-14"}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1168 | booker_development.find | SUCCEEDED | 0.005s
Completed 500 Internal Server Error in 51ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `inject' for #<Reservation:0x00007f937fce2178>
Did you mean?  inspect):
  
app/models/reservation.rb:30:in `date_overlap'
app/controllers/api/reservations_controller.rb:13:in `create'
MONGODB | localhost:27017 req:267 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}, "_id"=>{"$ne"=>BSON::ObjectId('61a8c3d5772ecf5e9cb913de')}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development"...
MONGODB | localhost:27017 req:267 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:269 conn:1:1 sconn:62 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"start_date"=>{"$gte"=>"2021-10-09"}, "end_date"=>{"$lte"=>"2021-10-14"}}, "limit"=>1, "sort"=>{"_id"=>1}, "singleBatch"=>true, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70326838608380 type=uuid da...
MONGODB | localhost:27017 req:269 | booker_development.find | SUCCEEDED | 0.001s
Started GET "/api/reservations/" for ::1 at 2021-12-03 08:01:51 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:1214 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1214 | booker_development.find | SUCCEEDED | 0.001s
Completed 200 OK in 27ms (Views: 7.0ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:02:06 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1217 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1217 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1218 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1218 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1219 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1219 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 44ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `_ids' for #<Reservation:0x00007f937fc11f28>
Did you mean?  _id
               _id=
               _id?):
  
app/models/reservation.rb:28:in `date_overlap'
app/controllers/api/reservations_controller.rb:13:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-03 08:02:28 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1222 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1222 | booker_development.find | SUCCEEDED | 0.007s
MONGODB | localhost:27017 req:1223 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1223 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1224 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1224 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 65ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `Reservation overlaps with an existing reservation.' for #<Reservation:0x00007f937c193608>):
  
app/models/reservation.rb:37:in `date_overlap'
app/controllers/api/reservations_controller.rb:13:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-03 08:03:45 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1233 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1233 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:1234 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1234 | booker_development.find | SUCCEEDED | 0.008s
MONGODB | localhost:27017 req:1235 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1235 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 61ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `Reservation overlaps with an existing reservation.' for #<Reservation:0x00007f9379484798>):
  
app/models/reservation.rb:37:in `date_overlap'
app/controllers/api/reservations_controller.rb:13:in `create'
Started POST "/api/reservations/" for ::1 at 2021-12-03 08:05:19 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-14", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1245 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1245 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1246 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1246 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1247 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1247 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 19ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:05:39 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-13", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1250 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1250 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1251 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1251 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1252 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1252 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 31ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:05:46 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-18", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1254 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1254 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1255 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1255 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1256 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1256 | booker_development.find | SUCCEEDED | 0.001s
Completed 400 Bad Request in 13ms (Views: 0.2ms | MongoDB: 0.0ms)


Started GET "/api/reservations/" for ::1 at 2021-12-03 08:05:53 +0800
Processing by Api::ReservationsController#index as */*
MONGODB | localhost:27017 req:1258 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1258 | booker_development.find | SUCCEEDED | 0.008s
Completed 200 OK in 11ms (Views: 11.0ms | MongoDB: 0.0ms)


Started DELETE "/api/reservations/61a95b57772ecf6e84b90336" for ::1 at 2021-12-03 08:06:23 +0800
Processing by Api::ReservationsController#destroy as */*
  Parameters: {"id"=>"61a95b57772ecf6e84b90336"}
MONGODB | localhost:27017 req:1262 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"_id"=>BSON::ObjectId('61a95b57772ecf6e84b90336')}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1262 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1263 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"61a95b57772ecf6e84b90336"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1263 | booker_development.find | SUCCEEDED | 0.001s
Completed 500 Internal Server Error in 19ms (MongoDB: 0.0ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/api/reservations_controller.rb:45:in `destroy'
Started POST "/api/reservations/" for ::1 at 2021-12-03 08:06:41 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-18", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1265 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1265 | booker_development.find | SUCCEEDED | 0.017s
MONGODB | localhost:27017 req:1266 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1266 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1267 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1267 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1268 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18"}, "end_date"=>{"$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95f91772ecf6e84b9033f')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1268 | booker_development.count | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1269 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95f91772ecf6e84b9033f')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1269 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1270 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95f91772ecf6e84b9033f')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1270 | booker_development.count | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1271 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-18"}, "end_date"=>{"$gte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95f91772ecf6e84b9033f')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1271 | booker_development.count | SUCCEEDED | 0.004s
Completed 400 Bad Request in 60ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:07:05 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-18", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1275 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1275 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:1276 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1276 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1277 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1277 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1278 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18"}, "end_date"=>{"$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fa9772ecf6e84b90340')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1278 | booker_development.count | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:1279 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fa9772ecf6e84b90340')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1279 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1280 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fa9772ecf6e84b90340')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1280 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1281 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-18"}, "end_date"=>{"$gte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fa9772ecf6e84b90340')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1281 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 36ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:07:37 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-18", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1285 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1285 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1286 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1286 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1287 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1287 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1288 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18"}, "end_date"=>{"$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fc9772ecf6e84b90341')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1288 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1289 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fc9772ecf6e84b90341')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1289 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1290 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fc9772ecf6e84b90341')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1290 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1291 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-18"}, "end_date"=>{"$gte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a95fc9772ecf6e84b90341')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1291 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 27ms (Views: 0.4ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:12:00 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX123sd45678", "start_date"=>"2021-03-18", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1318 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1318 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1319 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1319 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1320 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX123sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1320 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1321 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18"}, "end_date"=>{"$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960d0772ecf6e84b90342')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1321 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1322 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960d0772ecf6e84b90342')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1322 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1323 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-18", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960d0772ecf6e84b90342')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1323 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1324 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-18"}, "end_date"=>{"$gte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960d0772ecf6e84b90342')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1324 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1325 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a960d0772ecf6e84b90342'), "reservation_expected_payout_amount"=>"3800.00", "reservation_guest_details_localized_description"=>"4 guests", "reservation_guest_details_nu...
MONGODB | localhost:27017 req:1325 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 31ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:12:16 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1s23sd45678", "start_date"=>"2021-03-14", "end_date"=>"2021-03-15", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1328 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1328 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1329 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1329 | booker_development.find | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:1330 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1s23sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1330 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1331 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-14"}, "end_date"=>{"$lte"=>"2021-03-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960e0772ecf6e84b90343')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1331 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1332 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-14", "$lte"=>"2021-03-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960e0772ecf6e84b90343')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1332 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1333 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-14", "$lte"=>"2021-03-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960e0772ecf6e84b90343')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1333 | booker_development.count | SUCCEEDED | 0.012s
MONGODB | localhost:27017 req:1334 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-14"}, "end_date"=>{"$gte"=>"2021-03-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960e0772ecf6e84b90343')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1334 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 53ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:12:30 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1s23sd45678", "start_date"=>"2021-03-14", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1336 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1336 | booker_development.find | SUCCEEDED | 0.027s
MONGODB | localhost:27017 req:1337 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1337 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:1338 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1s23sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1338 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1339 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-14"}, "end_date"=>{"$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960ee772ecf6e84b90344')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1339 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1340 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-14", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960ee772ecf6e84b90344')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1340 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1341 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-14", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960ee772ecf6e84b90344')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1341 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1342 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-14"}, "end_date"=>{"$gte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960ee772ecf6e84b90344')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1342 | booker_development.count | SUCCEEDED | 0.004s
Completed 400 Bad Request in 81ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:12:42 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1s23sd45678", "start_date"=>"2021-03-19", "end_date"=>"2021-03-19", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1344 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1344 | booker_development.find | SUCCEEDED | 0.014s
MONGODB | localhost:27017 req:1345 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1345 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:1346 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1s23sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1346 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1347 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-19"}, "end_date"=>{"$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960fa772ecf6e84b90345')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1347 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1348 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-19", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960fa772ecf6e84b90345')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1348 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1349 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-19", "$lte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960fa772ecf6e84b90345')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1349 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1350 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-19"}, "end_date"=>{"$gte"=>"2021-03-19"}, "_id"=>{"$ne"=>BSON::ObjectId('61a960fa772ecf6e84b90345')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1350 | booker_development.count | SUCCEEDED | 0.005s
Completed 400 Bad Request in 53ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:12:51 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation"=>{"code"=>"XXX1s23sd45678", "start_date"=>"2021-03-20", "end_date"=>"2021-03-20", "expected_payout_amount"=>"3800.00", "guest_details"=>{"localized_description"=>"4 guests", "number_of_adults"=>2, "number_of_children"=>2, "number_of_infants"=>0}, "guest_email"=>"wayne_woodbridge@bnb.com", "guest_first_name"=>"Wayne", "guest_last_name"=>"Woodbridge", "guest_phone_numbers"=>["639123456789", "639123456789"], "listing_security_price_accurate"=>"500.00", "host_currency"=>"AUD", "nights"=>4, "number_of_guests"=>4, "status_type"=>"accepted", "total_paid_amount_accurate"=>"4300.00"}}
MONGODB | localhost:27017 req:1352 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1352 | booker_development.find | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:1353 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1353 | booker_development.find | SUCCEEDED | 0.034s
MONGODB | localhost:27017 req:1354 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"XXX1s23sd45678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1354 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1355 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-20"}, "end_date"=>{"$lte"=>"2021-03-20"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96103772ecf6e84b90346')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1355 | booker_development.count | SUCCEEDED | 0.009s
MONGODB | localhost:27017 req:1356 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-03-20", "$lte"=>"2021-03-20"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96103772ecf6e84b90346')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1356 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1357 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-03-20", "$lte"=>"2021-03-20"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96103772ecf6e84b90346')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1357 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1358 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-03-20"}, "end_date"=>{"$gte"=>"2021-03-20"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96103772ecf6e84b90346')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1358 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1359 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a96103772ecf6e84b90346'), "reservation_expected_payout_amount"=>"3800.00", "reservation_guest_details_localized_description"=>"4 guests", "reservation_guest_details_nu...
MONGODB | localhost:27017 req:1359 | booker_development.insert | SUCCEEDED | 0.011s
Completed 200 OK in 91ms (Views: 0.3ms | MongoDB: 0.1ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:14:48 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-14", "end_date"=>"2021-04-18"}}
MONGODB | localhost:27017 req:1372 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1372 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:1373 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1373 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1374 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1374 | booker_development.find | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1375 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-04-14"}, "end_date"=>{"$lte"=>"2021-04-18"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96178772ecf6e84b90347')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1375 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1376 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-04-14", "$lte"=>"2021-04-18"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96178772ecf6e84b90347')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1376 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1377 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-04-14", "$lte"=>"2021-04-18"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96178772ecf6e84b90347')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1377 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1378 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-04-14"}, "end_date"=>{"$gte"=>"2021-04-18"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96178772ecf6e84b90347')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1378 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1379 conn:1:1 sconn:57 | booker_development.insert | STARTED | {"insert"=>"reservations", "ordered"=>true, "documents"=>[{"_id"=>BSON::ObjectId('61a96178772ecf6e84b90347'), "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest_first_name"=>"Wayne", "guest_last_name"=>"Wo...
MONGODB | localhost:27017 req:1379 | booker_development.insert | SUCCEEDED | 0.001s
Completed 200 OK in 79ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:15:28 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-15", "end_date"=>"2021-04-15", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-04-15", "end_date"=>"2021-04-15"}}
MONGODB | localhost:27017 req:1384 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1384 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1385 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1385 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1386 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1386 | booker_development.find | SUCCEEDED | 0.010s
MONGODB | localhost:27017 req:1387 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-04-15"}, "end_date"=>{"$lte"=>"2021-04-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a961a0772ecf6e84b90348')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1387 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1388 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-04-15", "$lte"=>"2021-04-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a961a0772ecf6e84b90348')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1388 | booker_development.count | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1389 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-04-15", "$lte"=>"2021-04-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a961a0772ecf6e84b90348')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1389 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1390 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-04-15"}, "end_date"=>{"$gte"=>"2021-04-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a961a0772ecf6e84b90348')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1390 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 46ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:18:34 +0800
  
ArgumentError (Unknown validator: 'ComparisonValidator'):
  
app/models/reservation.rb:17:in `<class:Reservation>'
app/models/reservation.rb:1:in `<main>'
Started POST "/api/reservations/" for ::1 at 2021-12-03 08:22:23 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-15", "end_date"=>"2021-05-15", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-15", "end_date"=>"2021-05-15"}}
MONGODB | localhost:27017 req:1433 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1433 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1434 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1434 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1435 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1435 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1436 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-15"}, "end_date"=>{"$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9633f772ecf6e84b90349')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1436 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1437 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-15", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9633f772ecf6e84b90349')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1437 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1438 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-05-15", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9633f772ecf6e84b90349')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1438 | booker_development.count | SUCCEEDED | 0.005s
MONGODB | localhost:27017 req:1439 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-05-15"}, "end_date"=>{"$gte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9633f772ecf6e84b90349')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1439 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 36ms (Views: 0.3ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:22:37 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-19", "end_date"=>"2021-05-15", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-19", "end_date"=>"2021-05-15"}}
MONGODB | localhost:27017 req:1441 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1441 | booker_development.find | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1442 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1442 | booker_development.find | SUCCEEDED | 0.006s
MONGODB | localhost:27017 req:1443 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1443 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1444 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-19"}, "end_date"=>{"$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9634d772ecf6e84b9034a')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1444 | booker_development.count | SUCCEEDED | 0.003s
MONGODB | localhost:27017 req:1445 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-19", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9634d772ecf6e84b9034a')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1445 | booker_development.count | SUCCEEDED | 0.004s
MONGODB | localhost:27017 req:1446 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-05-19", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9634d772ecf6e84b9034a')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1446 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1447 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-05-19"}, "end_date"=>{"$gte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a9634d772ecf6e84b9034a')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1447 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 36ms (Views: 0.2ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:22:59 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-19", "end_date"=>"2021-05-15", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-19", "end_date"=>"2021-05-15"}}
MONGODB | localhost:27017 req:1450 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1450 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1451 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1451 | booker_development.find | SUCCEEDED | 0.024s
MONGODB | localhost:27017 req:1452 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1452 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1453 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-19"}, "end_date"=>{"$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96363772ecf6e84b9034b')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1453 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1454 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-19", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96363772ecf6e84b9034b')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1454 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1455 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-05-19", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96363772ecf6e84b9034b')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1455 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1456 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-05-19"}, "end_date"=>{"$gte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96363772ecf6e84b9034b')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1456 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 112ms (Views: 0.4ms | MongoDB: 0.0ms)


Started POST "/api/reservations/" for ::1 at 2021-12-03 08:26:47 +0800
Processing by Api::ReservationsController#create as */*
  Parameters: {"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-19", "end_date"=>"2021-05-15", "nights"=>4, "guests"=>4, "adults"=>2, "children"=>2, "infants"=>0, "status"=>"accepted", "guest"=>{"first_name"=>"Wayne", "last_name"=>"Woodbridge", "phone"=>"639123456789", "email"=>"wayne_woodbridge@bnb.com"}, "currency"=>"AUD", "payout_price"=>"4200.00", "security_price"=>"500", "total_price"=>"4700.00", "reservation"=>{"reservation_code"=>"YYY12345678", "start_date"=>"2021-05-19", "end_date"=>"2021-05-15"}}
MONGODB | localhost:27017 req:1480 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>nil}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1480 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1481 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"guests", "filter"=>{"email"=>"wayne_woodbridge@bnb.com"}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1481 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1482 conn:1:1 sconn:57 | booker_development.find | STARTED | {"find"=>"reservations", "filter"=>{"reservation_code"=>"YYY12345678"}, "limit"=>1, "projection"=>{"_id"=>1}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee943389f9f648cf...>}}
MONGODB | localhost:27017 req:1482 | booker_development.find | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1483 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-19"}, "end_date"=>{"$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96447772ecf6e84b9034c')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1483 | booker_development.count | SUCCEEDED | 0.002s
MONGODB | localhost:27017 req:1484 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$gte"=>"2021-05-19", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96447772ecf6e84b9034c')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee...
MONGODB | localhost:27017 req:1484 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1485 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"end_date"=>{"$gte"=>"2021-05-19", "$lte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96447772ecf6e84b9034c')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=uuid data=0xee94...
MONGODB | localhost:27017 req:1485 | booker_development.count | SUCCEEDED | 0.001s
MONGODB | localhost:27017 req:1486 conn:1:1 sconn:57 | booker_development.count | STARTED | {"count"=>"reservations", "query"=>{"start_date"=>{"$lte"=>"2021-05-19"}, "end_date"=>{"$gte"=>"2021-05-15"}, "_id"=>{"$ne"=>BSON::ObjectId('61a96447772ecf6e84b9034c')}}, "$db"=>"booker_development", "lsid"=>{"id"=><BSON::Binary:0x70135720165760 type=...
MONGODB | localhost:27017 req:1486 | booker_development.count | SUCCEEDED | 0.001s
Completed 400 Bad Request in 33ms (Views: 0.2ms | MongoDB: 0.0ms)


